<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup Form</title>
    <style>
  .error{
    color: red;
  }
    </style>
</head>
<body>
    <p class="error"></p>
    <form id="signup-form"  class="signup">
        <label for="name">Name</label>
        <input type="text" name="name" id="name" placeholder="Enter your name"><br><br>
        <label for="username">UserName</label>
        <input type="email" name="name" id="username" placeholder="Enter your username"><br><br>
        <label for="password">Password</label>
        <input type="password" name="password" id="password" placeholder="Enter your password"><br><br>
        <label for="confirm-password">Confirm Password</label>
        <input type="password" name="confirm-password" id="confirm-password" placeholder="Enter your password again "><br><br>
        <input type="submit" value="submit">
    </form>
    <script>
        let signup_form = document.querySelector('.signup')
        let input_name = document.querySelector('#name')
        let username = document.querySelector('#username')
        let input_password = document.querySelector('#password')
        let input_confirm_password = document.querySelector('#confirm-password') 
        let error = document.querySelector('.error')
       

        // signup_form.addEventListener('submit', validateForm)


       function validateForm(e){
            e.preventDefault();
            let name = input_name.value;
            let userrname = username.value;
            let password = input_password.value;
            let confirm_password = input_confirm_password.value;
          console.log("function called")
         if(name.length<3){
            error.innerHTML = "Name must be at least 3 character" ;
         }
         else if (username.length<8){
            error.innerHTML = "Name must be atleast 7 characters" ;
         }
         else if(checkPassword(password,name,username)==false){
            // else if(password.length<7){
            error.innerHTML="Password must contain at least 1 uppercase, 1 lowercase, 1number and 1 special character";
         }
         else if(password != confirm_password){
            error.innerHTML = 'password and confirm password must be same';
         }
         else {
            error.innerHTML = 'Form submitted successfully';
            window.location.href="/Game-Car/login.html"
        }
       }
       document.getElementById("signup-form").onsubmit=validateForm;
        function checkPassword(password,name,username){
       let cl = 0 , sl = 0, n=0, sc=0
        for(let t of password){ //  A
       if(t>="A" && t<="Z"){
         cl= cl+1 // capital letter
       }
       else if(t>="a" && t<="z"){
         sl++ // small letter
       }
       else if(t>="0" && t<="9"){
            n++ // number
         }
         else{
            sc++ // special character
         }
    }
    if(cl>=1 && sl>=1 && n>=1 && sc>=1 && password !=name && password !=username){
        return true
    }
    else{
        return false
    }
}


    </script>
</body>
</html>